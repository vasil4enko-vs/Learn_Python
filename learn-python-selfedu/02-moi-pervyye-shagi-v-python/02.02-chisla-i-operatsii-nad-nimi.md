# 2.2. Числа и операции над ними

На этом занятии будет рассмотрено представление чисел и операции над ними.

В Python имеется три базовых типа для представления чисел:

- `int` - целочисленный тип;
- `float` - вещественный (дробный) тип;
- `complex` - комплексный тип.

На этом занятии мы поговорим о типах `int` и `float`.

**Целочисленный тип** представляет ряд целых чисел: `0, 1, 2, ..., 100, ..., 678678, ...`; в том числе и отрицательные: `-1, -2, -3, ..., -82489345, ...`.

Вещественный (дробный) тип представляет дробные числа, причём в Python в дробных числах **целая часть отделяется от дробной** не запятой, а **точкой**: `6.8, - 5.567, 345.546, -64578.749`.

А теперь в табл. 2.2.2.1 рассмотрим арифметические операции, которые можно проводить в Python над известными теперь нам типами чисел.

|  Оператор  | Описание               |  Приоритет  |
| :--------: | ---------------------- | :---------: |
|     +      | Сложение               |      2      |
|     -      | Вычитание              |      2      |
|     \*     | Умножение              |      3      |
|   /, //    | Деление                |      3      |
|     %      | Остаток деления        |      3      |
|    \*\*    | Возведение в степень   |      4      |

Табл. 2.2.1. Базовые арифметические операции

Рассмотрим работу этих операций на конкретных примерах. Для этого запустим VS Code, откроем консоль, запустим интерактивный режим выполнив команду и увидим строку приглашения интерактивного режима Python:

```bash
$ python
>>>
```

Теперь если мы наберём в консоли `2 + 3`, после нажатия клавиши `Enter` получим значение:

```python
>>> 2 + 3
5
>>>
```

Полученный результат нигде не сохраняется, хотя есть **специальная переменная `_` (подчёркивание)**, которая хранит в консоли Python последнее вычисленное значение.

И если мы отобразим эту переменную, то увидим это значение `5`:

```python
>>> _
5
>>>
```

Но это служебная переменная и её обычно в программах не пользуются.

Поэтому можно сказать, что результат вычисления `5` нигде не сохраняется. Чтобы его сохранить, например, в переменной `a`, нужно ввести:

```python
>>> a = 2 + 3
>>>
```

Теперь указав переменную `a` получим:

```python
>>> a
5
>>>
```

Давайте разберёмся как работает строчка `a = 2 + 3`.

Изначально создаётся два объекта, один со значением `2` и второй - `3`. Затем оператор `+` суммирует эти два значения и формирует третий объект со значением `5`, и после этого оператор присваивания `=` делает ссылку переменной `a` на этот новый объект со значением `5`. Далее объекты со значениями `2` и `3`, если на них нет других ссылок автоматически удаляются сборщиком мусора.

Такая последовательность действий Python справедлива для всех арифметических операция.

Мало того, если операция сложения возвращает объект с результатом, то можно выполнить такую операцию:

```python
>>> b = 2 + 3 + 4
>>>
```

и введя переменную `b` получим результат:

```python
>>> b
9
>>>
```

В данном случае сначала было вычислено значение `2 + 3` и получен объект со значением `5`, а уже к нему было прибавлено значение `4` и получен объект со значением `9`, на который и была создана ссылка переменной `b`.

Отсюда видно, что равнозначные операции в Python выполняются слева на право, за исключением одной операции - возведение в степень, о которой мы поговорим чуть позже.

Теперь попробуем сложить целое число с вещественным:

```python
>>> c = 2 + 3.5
```

и вызовем переменную `с`:

```python
>>> c
5.5
>>>
```

Если же мы сложим:

```python
>>> c = 3 + 2.0
>>>
```

и снова вызовем переменную `c`:

```python
>>> c
5.0
>>>
```

Это значение тоже будет вещественным, на это указывает `0` после тачки.

Можно сделать вывод, что при сложении целого числа с вещественным результат в Python получается всегда вещественным.

Тоже самое **при делении двух любых чисел целых или вещественных результат в Python всегда получается вещественным**:

```python
>>> d1 = 8 / 2
>>>
>>> d1
4.0
```

И это не смотря на то что `8` делится `2` без остатка.

Выполнив такую операцию:

```python
>>> d2 = 3 / 6
>>>
>>> d2
0.5
>>>
```

мы снова, что и понятно, получим вещественный результат.

В Python есть ещё один оператор деления - `//`. Это **оператор деления с округлением к к ближайшему наименьшему целому**.

Посмотрим как это работает:

```python
>>> d3 = 7 // 2
>>>
```

Результатом обычного деления, в данном случае, стало бы значение `3.5`,но округление `3.5` до ближайшего наименьшего целого значения даст нам число `3`, что мы и получим в результате выполнения предыдущей операции:

```python
>>> d3
3
>>>
```

Рассмотрим деление с округлением к ближайшему наименьшему целому отрицательного числа:

```python
>>> -7 // 2
-4
>>>
```

Т.е. теперь мы получили при обычном делении `-3.5` и ближайшее наименьшее целое число будет `-4`.

**Оператор умножения `*` работает очевидным образом:

```python
>>> 5 * 6
30
>>>
```

Если умножим:

```python
>>> 2 * 4.5
9.0
>>>
```

Заметим, что в данном случае, мы получим вещественный результат `9.0`, т.к. один из операндов был вещественным - `4.5`.

Следующая операция - **вычисление остатка от деления**:

```python
>>> 10 % 3
1
>>>
```

Или можем сделать так:

```python
>>> 10 % 4
2
>>>
```

Общий принцип вычисление остатка от деления из вышеизложенного понятен. Но есть один нюанс при выполнении этой операции.

**Рассмотрим следующие варианты.**

1. Если мы возьмём `9` и вычислим остаток от деления на `5`, то получим:

    ```python
    >>> 9 % 5
    4
    >>>
    ```

    И здесь прекрасно понятно, почему это так.

    Но что будет, если мы будем использовать отрицательные числа?

2. Например,

    ```python
    >>> -9 % 5
    1
    >>>
    ```

    Почему так получилось, откуда взялась `1`?

    По правилам математики, нам нужно узнать, сколько нужно вычесть из делимого, чтобы получить ближайшее меньшее целое делимое на делитель. В нашем случае ближайшим меньшим целым делимым является `-10`, а чтобы его получить, необходимо из девяти вычесть `1`.

    Поэтому результатом и будет `1`.

    Это правило будет верно и для первого варианта.

3. Рассмотрим вариант когда делитель является отрицательным.

    ```python
    >>> 9 % -5
    -1
    >>>
    ```

    При вычислении остатка от деления, когда делитель является отрицательным числом, нужно найти число которое необходимо вычесть из делимого, чтобы получилось ближайшее большее кратное делителю.

    В нашем случае ближайшим большим кратным я является `10`, значит из девяти нужно вычесть `-1` для получения `10`.

4. Это же правило будет действовать и в таком случае:

    ```python
    >>> -9 % -5
    -4
    >>>
    ```

    В этом случае, ближайшее кратное `5` число - `-5` и чтобы его получить нужно из `-9` вычесть `-4` и полностью совпадает с тем результатом, что нам выдаёт Python.

Сразу вычисление остатка от деления может показаться сложным, но как вы видите, всё это укладывается в простые понятия, которые не сложно запомнить.

Следующая арифметическая операция, которую мы рассмотрим - возведение в степень.

**Возведение в степень** записывается в Python так:

```python
>>> 2 ** 3
8
>>>
```

Такая запись означает, что мы число `2` возводим в `куб` и на выходе конечно же получим значение `8`.

Или можем возвести `36` в степень `0.5`, что эквивалентно корню квадратному из `36` и получим:

```python
>>> 36 ** 0.5
6.0
>>>
```

Или можно выполнить такое действие:

```python
2 ** 3 ** 2
512
>>>
```

Такие действия выполняется справа налево. Т.е. сначала выполнится `3 ** 2`, получится `9` и потом `2` в степени `9` будет равняться `512`.

Т.е. **возведение в степень работает всегда справа налево**.

Все **остальные арифметические операции - слева направо**.

Этот важный момент нужно знать и учитывать.

Также нужно знать приоритеты выполнения арифметических операций, т.е знать в каком порядке они выполняются.

Так например, если мы запишем такую арифметическую операцию:

```python
>>> 27 ** 1 / 3
9.0
```

Такой результат может быть неожиданным, т.к. корень кубический из 27 равен `3`, а не `9`.

Всё дело в том, что приоритет возведения в степень выше чем приоритет у операции деления. Поэтому сначала выполняется возведение в степень, а уже затем деление. Т.е мы `27` сначала возводим в степень `1`, а уже потом полученные `27` делим на `3` и получаем `9`.

Если же мы хотим поменять приоритет операций, то для этого нужно использовать круглые скобки:

```python
>>> 27 ** (1 / 3)
3.0
>>>
```

Ещё пример:

```python
2 + 3 * 5
17
>>`
```

Здесь сначала производится умножение, а потом полученный результат `15` складывается с `2` и получается `17`.

Опять же поменять приоритеты можно с помощью скобок:

```python
(2 + 3) * 5
25
>>>
```

Не забывайте, что все равнозначные по приоритету операции, кроме возведения в степень, выполняются слева направо. Т.е.:

```python
>>> 32 / 4 * 2
16.0
>>>
```

Надеюсь ничего сложного для вас здесь нет.

А теперь рассмотрим некоторые дополнения к арифметическим операторам.

Предположим, что у нас есть две переменные:

```python
>>> i = 5
>>>
>>> j = 3
>>>
```

Наша задача увеличить i на `1`, а j уменьшить на `2`.

В самом простом варианте это можно реализовать так:

```python
>>> i = i + 1
>>>
>>> i
6
>>>
```

```python
>>> j = j -2
>>>
>>> j
1
>>>
```

Такие операции довольно часто встречаются на практике. Поэтому имеют более сокращённый вид:

```python
>>> i += 1
>>>
>>> i
7
>>>
```

Тоже самое и с уменьшением:

```python
>>> j -= 2
>>>
>>> j
-1
>>>
```

Такие сокращённые операторы работают со всеми арифметическими операторами, например:

```python
>>> i *= 3
>>>
>>> i
21
>>>
```

или:

```python
>>> j / 4
>>>
>>> j
-0.25
>>>
```

и т.д.

На этом завершается этот урок.

Надеюсь вам были понятны действия с арифметическими операторами.
